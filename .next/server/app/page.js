(()=>{var e={};e.id=931,e.ids=[931],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},7310:e=>{"use strict";e.exports=require("url")},7773:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>g,tree:()=>d});var r=s(7096),a=s(6132),i=s(7284),l=s.n(i),n=s(2564),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3982)),"c:\\ai-editor\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,5345)),"c:\\ai-editor\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],c=["c:\\ai-editor\\app\\page.tsx"],x="/page",m={require:s,loadChunk:()=>Promise.resolve()},g=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4675:(e,t,s)=>{Promise.resolve().then(s.bind(s,2482))},2482:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Home});var r=s(784),a=s(9885),i=s(7523),l=s(7e3),n=s(6494),o=s(8838),d=s(1264),c=s(3488),x=s(5924),m=s(8626),g=s(6206);function FloatingToolbar({position:e,selectedText:t,onAIEdit:s,onReplace:i}){let[l,p]=(0,a.useState)(!1),[h,u]=(0,a.useState)(""),[f,b]=(0,a.useState)(!1),[j,y]=(0,a.useState)(""),handleAIAction=async(e,r)=>{b(!0),y(r);let a=await s(t,e);u(a),p(!0),b(!1)},v=[{label:"Shorten",action:"Make this text shorter and more concise",icon:r.jsx(n.Z,{size:12}),color:"from-orange-500 to-red-500"},{label:"Expand",action:"Expand this text with more details",icon:r.jsx(o.Z,{size:12}),color:"from-green-500 to-emerald-500"},{label:"Fix Grammar",action:"Fix grammar and spelling errors in this text",icon:r.jsx(d.Z,{size:12}),color:"from-blue-500 to-cyan-500"},{label:"To Table",action:"Convert this text into a table format",icon:r.jsx(c.Z,{size:12}),color:"from-purple-500 to-pink-500"}];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"floating-toolbar",style:{left:e.x,top:e.y},children:[v.map(e=>(0,r.jsxs)("button",{onClick:()=>handleAIAction(e.action,e.label),disabled:f,className:`px-3 py-2 text-xs font-medium text-white rounded-lg bg-gradient-to-r ${e.color} hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center gap-1.5`,children:[e.icon,e.label]},e.label)),(0,r.jsxs)("button",{onClick:()=>handleAIAction("Improve this text","AI Edit"),disabled:f,className:"px-3 py-2 text-xs font-medium bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center gap-1.5",children:[r.jsx(x.Z,{size:12}),"AI Edit"]})]}),l&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl max-w-4xl w-full mx-4 shadow-2xl border border-gray-200 overflow-hidden",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 p-6 text-white",children:[(0,r.jsxs)("h3",{className:"text-xl font-semibold flex items-center gap-3",children:[r.jsx(m.Z,{size:24}),"Preview Changes - ",j]}),r.jsx("p",{className:"text-indigo-100 mt-1 text-sm",children:"Review the AI suggestion before applying"})]}),r.jsx("div",{className:"p-6 space-y-6 max-h-96 overflow-y-auto",children:(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),r.jsx("h4",{className:"font-semibold text-gray-800",children:"Original Text"})]}),r.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-r-lg",children:r.jsx("p",{className:"text-gray-700 leading-relaxed",children:t})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsx("h4",{className:"font-semibold text-gray-800",children:"AI Suggestion"})]}),r.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 rounded-r-lg",children:r.jsx("p",{className:"text-gray-700 leading-relaxed",children:h})})]})]})}),(0,r.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex gap-3 justify-end border-t border-gray-200",children:[(0,r.jsxs)("button",{onClick:()=>p(!1),className:"flex items-center gap-2 px-6 py-2.5 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium",children:[r.jsx(g.Z,{size:16}),"Cancel"]}),(0,r.jsxs)("button",{onClick:()=>{i(h),p(!1)},className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:[r.jsx(d.Z,{size:16}),"Apply Changes"]})]})]})})]})}function Editor({content:e,onChange:t}){let[s,n]=(0,a.useState)(null),[d,c]=(0,a.useState)(null),[m,g]=(0,a.useState)(0),[p,h]=(0,a.useState)(0),u=(0,i.jE)({extensions:[l.Z],content:e||"<p>Start writing your content here...</p>",onUpdate:({editor:e})=>{let s=e.getHTML();t(s);let r=e.getText();g(r.trim()?r.trim().split(/\s+/).length:0),h(r.length)},onSelectionUpdate:({editor:e})=>{let{from:t,to:s}=e.state.selection;if(t!==s){let r=e.state.doc.textBetween(t,s);n({from:t,to:s,text:r});let a=e.view.coordsAtPos(t);c({x:a.left,y:a.top-60})}else n(null),c(null)},editorProps:{attributes:{class:"prose prose-lg max-w-none focus:outline-none min-h-[400px] p-6"}}}),handleAIEdit=async(e,t)=>{try{let s=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:`${t}: "${e}"`,type:"edit"})}),r=await s.json();return r.response}catch(t){return console.error("AI edit failed:",t),e}};return(0,r.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200/50",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(o.Z,{size:16}),r.jsx("span",{className:"text-sm font-medium",children:"Rich Text Editor"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[(0,r.jsxs)("span",{children:[m," words"]}),(0,r.jsxs)("span",{children:[p," characters"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[r.jsx(x.Z,{size:14,className:"text-purple-500"}),r.jsx("span",{children:"Select text for AI editing"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:r.jsx(i.kg,{editor:u,className:"h-full"})}),s&&d&&r.jsx(FloatingToolbar,{position:d,selectedText:s.text,onAIEdit:handleAIEdit,onReplace:e=>{u&&s&&(u.chain().focus().deleteRange({from:s.from,to:s.to}).insertContent(e).run(),n(null),c(null))}})]})}var p=s(3680),h=s(3560),u=s(8089),f=s(6388);function ChatSidebar({onInsertText:e,onClose:t}){let[s,i]=(0,a.useState)([{id:"welcome",text:"Hello! I'm your AI writing assistant. I can help you write, edit, and improve your content. Try selecting some text in the editor or ask me anything!",sender:"ai",timestamp:new Date}]),[l,n]=(0,a.useState)(""),[o,c]=(0,a.useState)(!1),[m,b]=(0,a.useState)(null),j=(0,a.useRef)(null),y=(0,a.useRef)(null),scrollToBottom=()=>{j.current?.scrollIntoView({behavior:"smooth"})};(0,a.useEffect)(()=>{scrollToBottom()},[s]);let sendMessage=async()=>{if(!l.trim())return;let e={id:Date.now().toString(),text:l,sender:"user",timestamp:new Date};i(t=>[...t,e]),n(""),c(!0);try{let e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:l,type:"chat"})}),t=await e.json(),s={id:(Date.now()+1).toString(),text:t.response,sender:"ai",timestamp:new Date};i(e=>[...e,s])}catch(t){console.error("Chat error:",t);let e={id:(Date.now()+1).toString(),text:"Sorry, I encountered an error. Please try again.",sender:"ai",timestamp:new Date};i(t=>[...t,e])}finally{c(!1)}},copyToClipboard=async(e,t)=>{try{await navigator.clipboard.writeText(e),b(t),setTimeout(()=>b(null),2e3)}catch(e){console.error("Failed to copy:",e)}},formatTime=e=>e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(0,r.jsxs)("div",{className:"w-full h-full bg-white/95 backdrop-blur-sm border-l border-white/20 flex flex-col shadow-2xl",children:[r.jsx("div",{className:"glass-effect border-b border-white/20 p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl text-white",children:r.jsx(x.Z,{size:20})}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"AI Assistant"}),r.jsx("p",{className:"text-xs text-gray-600",children:"Always ready to help"})]})]}),t&&r.jsx("button",{onClick:t,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",children:r.jsx(g.Z,{size:20,className:"text-gray-600"})})]})}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-transparent to-blue-50/30",children:[s.map(t=>r.jsx("div",{className:`message-enter flex gap-3 ${"user"===t.sender?"justify-end":"justify-start"}`,children:(0,r.jsxs)("div",{className:`flex gap-3 max-w-[85%] ${"user"===t.sender?"flex-row-reverse":"flex-row"}`,children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${"user"===t.sender?"bg-gradient-to-r from-blue-500 to-blue-600 text-white":"bg-gradient-to-r from-purple-500 to-pink-500 text-white"}`,children:"user"===t.sender?r.jsx(p.Z,{size:14}):r.jsx(h.Z,{size:14})}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsxs)("div",{className:`p-3 rounded-2xl shadow-sm ${"user"===t.sender?"bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-br-md":"bg-white border border-gray-200 text-gray-800 rounded-bl-md"}`,children:[r.jsx("p",{className:"text-sm leading-relaxed",children:t.text}),"ai"===t.sender&&(0,r.jsxs)("div",{className:"flex gap-2 mt-3 pt-2 border-t border-gray-100",children:[(0,r.jsxs)("button",{onClick:()=>e(t.text),className:"text-xs bg-gradient-to-r from-green-500 to-green-600 text-white px-3 py-1.5 rounded-full hover:from-green-600 hover:to-green-700 transition-all duration-200 flex items-center gap-1",children:[r.jsx(u.Z,{size:12}),"Insert to Editor"]}),(0,r.jsxs)("button",{onClick:()=>copyToClipboard(t.text,t.id),className:"text-xs bg-gray-100 text-gray-600 px-3 py-1.5 rounded-full hover:bg-gray-200 transition-colors flex items-center gap-1",children:[m===t.id?r.jsx(d.Z,{size:12}):r.jsx(f.Z,{size:12}),m===t.id?"Copied!":"Copy"]})]})]}),r.jsx("span",{className:`text-xs text-gray-500 px-2 ${"user"===t.sender?"text-right":"text-left"}`,children:formatTime(t.timestamp)})]})]})},t.id)),o&&(0,r.jsxs)("div",{className:"flex gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-white flex items-center justify-center",children:r.jsx(h.Z,{size:14})}),r.jsx("div",{className:"bg-white border border-gray-200 p-3 rounded-2xl rounded-bl-md shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("div",{className:"flex gap-1",children:[r.jsx("div",{className:"typing-indicator"}),r.jsx("div",{className:"typing-indicator"}),r.jsx("div",{className:"typing-indicator"})]}),r.jsx("span",{className:"text-sm text-gray-600",children:"AI is thinking..."})]})})]}),r.jsx("div",{ref:j})]}),(0,r.jsxs)("div",{className:"p-4 border-t border-white/20 glass-effect",children:[(0,r.jsxs)("div",{className:"flex gap-3",children:[r.jsx("input",{ref:y,type:"text",value:l,onChange:e=>n(e.target.value),onKeyPress:e=>"Enter"===e.key&&!e.shiftKey&&sendMessage(),placeholder:"Ask AI anything...",className:"flex-1 px-4 py-3 bg-white/80 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-transparent transition-all duration-200 placeholder-gray-500",disabled:o}),r.jsx("button",{onClick:sendMessage,disabled:o||!l.trim(),className:"px-4 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:from-purple-600 hover:to-pink-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:r.jsx(u.Z,{size:18})})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Press Enter to send, Shift+Enter for new line"})]})]})}var b=s(9546);function Home(){let[e,t]=(0,a.useState)(""),[s,i]=(0,a.useState)(!0);return(0,r.jsxs)("div",{className:"flex h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[r.jsx("div",{className:"flex-1 transition-all duration-300 mr-0",children:(0,r.jsxs)("div",{className:"h-full flex flex-col",children:[r.jsx("header",{className:"glass-effect border-b border-white/20 p-4 lg:p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl text-white",children:r.jsx(b.Z,{size:24})}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl lg:text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent",children:"AI Collaborative Editor"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Write, edit, and enhance with AI assistance"})]})]}),r.jsx("button",{onClick:()=>i(!s),className:"lg:hidden p-2 rounded-lg bg-white/80 hover:bg-white transition-colors shadow-sm",children:r.jsx(x.Z,{size:20,className:"text-purple-600"})})]})}),r.jsx("div",{className:"flex-1 p-4 lg:p-6 overflow-hidden",children:r.jsx("div",{className:"h-full bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/20",children:r.jsx(Editor,{content:e,onChange:t})})})]})}),r.jsx("div",{className:`${s?"translate-x-0":"translate-x-full"} 
        fixed lg:relative right-0 top-0 h-full w-full max-w-sm lg:max-w-none lg:w-96 
        transition-transform duration-300 ease-in-out z-40 lg:z-auto lg:translate-x-0`,children:r.jsx(ChatSidebar,{onInsertText:e=>t(t=>t+"\n"+e),onClose:()=>i(!1)})}),s&&r.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-30 lg:hidden",onClick:()=>i(!1)})]})}},3982:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>i,default:()=>o});var r=s(5153);let a=(0,r.createProxy)(String.raw`c:\ai-editor\app\page.tsx`),{__esModule:i,$$typeof:l}=a,n=a.default,o=n}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[862,740,574],()=>__webpack_exec__(7773));module.exports=s})();